<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>GPU Finder</title>
    <meta name="description" content="Simple GPU offers browser" />
    <style>
        :root {
            --bg: #0b0c0f;           /* near-black */
            --elev: #12141a;         /* card bg */
            --muted: #9aa3b2;        /* secondary text */
            --text: #e7ecf3;         /* primary text */
            --accent: #3b82f6;       /* blue */
            --ok: #10b981;
            --danger: #ef4444;
            --radius: 14px;
        }
        * { box-sizing: border-box; }
        html, body { height: 100%; }
        body {
            margin: 0;
            font: 15px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
            color: var(--text);
            background: radial-gradient(1200px 600px at 70% -10%, #1a1e29 0, transparent 60%), var(--bg);
        }
        .wrap { max-width: 1000px; margin: 0 auto; padding: 48px 20px; }
        header { display: flex; align-items: center; justify-content: space-between; gap: 16px; }
        .brand { display: flex; align-items: center; gap: 12px; }
        .brand .logo { width: 42px; height: 42px; border-radius: 10px; background: linear-gradient(135deg, var(--accent), #60a5fa); box-shadow: 0 10px 25px rgba(59,130,246,.35); }
        h1 { font-weight: 700; margin: 0; letter-spacing: .3px; }
        nav a { color: var(--text); text-decoration: none; padding: 10px 14px; border-radius: 10px; }
        nav a:hover { background: #1a2030; }

        .hero { display: grid; grid-template-columns: 1.1fr .9fr; gap: 28px; margin-top: 50px; }
        .card { background: var(--elev); border: 1px solid #1f2430; border-radius: var(--radius); padding: 22px; box-shadow: 0 8px 20px rgba(0,0,0,.35); }
        .card h2 { margin: 0 0 8px; font-size: 22px; }
        .muted { color: var(--muted); }
        .cta { display: inline-flex; align-items: center; gap: 10px; background: var(--accent); color: white; padding: 12px 16px; border-radius: 12px; text-decoration: none; font-weight: 600; margin-top: 14px; box-shadow: 0 8px 20px rgba(59,130,246,.35); }
        .cta:hover { filter: brightness(1.05); }

        .stats { display: grid; grid-template-columns: repeat(3, 1fr); gap: 14px; margin-top: 18px; }
        .stat { background: #0f1218; border: 1px solid #1f2430; border-radius: 12px; padding: 14px; }
        .stat .k { font-size: 22px; font-weight: 700; }

        footer { margin-top: 40px; color: var(--muted); text-align: center; }
        .small { font-size: 13px; }
        .logo{width:36px;height:36px;border-radius:9px;background:linear-gradient(135deg,var(--accent),#60a5fa);box-shadow:0 10px 24px rgba(59,130,246,.3);display:flex;align-items:center;justify-content:center;color:white;font-weight:bold;font-size:14px}

        @media (max-width: 880px) {
            .hero { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
<div class="wrap">
    <header>
        <div class="brand">
            <div class="logo" aria-hidden="true">GF</div>
            <h1>GPU Finder</h1>
        </div>
        <nav>
            <a href="search.html">Search</a>
            <a href="about.html">About</a>
        </nav>
    </header>

    <section class="hero">
        <div class="card">
            <h2>Find the right GPU host fast</h2>
            <p class="muted">Browse a clean, accurate catalog of offers aggregated from multiple providers. Filter by provider, location, price, FLOPs per dollar, and sort by any column supported by the API.</p>
            <a class="cta" href="search.html" aria-label="Go to Search">Open Search →</a>
            <div class="stats" id="stats">
                <div class="stat"><div class="k" id="stat-count">—</div><div class="muted small">Offers loaded</div></div>
                <div class="stat"><div class="k" id="stat-providers">—</div><div class="muted small">Providers</div></div>
                <div class="stat"><div class="k" id="stat-locations">—</div><div class="muted small">Locations</div></div>
            </div>
        </div>
        <div class="card">
            <h2>How it works</h2>
            <ol class="muted">
                <li>Client calls the read‑only endpoint and renders the results.</li>
                <li>All filters are passed as query params (no backend required).</li>
                <li>What you see is what the API returns—no hidden transforms.</li>
            </ol>
            <p class="small muted">Endpoint: <code>GET https://gpu-api-891435322100.us-central1.run.app/gpus</code></p>
        </div>
    </section>

    <footer>
        <p class="small">Tip: jump straight to <a href="search.html">Search</a> to filter/sort. See <a href="about.html">About</a> for parameter details.</p>
    </footer>
</div>

<script>
    const API = 'https://gpufindr.com/gpus';
    const COUNT_API = 'https://gpufindr.com/gpus/count';

    fetch(COUNT_API)
        .then(r => r.json())
    .then(data => {
        document.getElementById('stat-count').textContent = data.count.toLocaleString();
    })
    .catch(() => {
        document.getElementById('stat-count').textContent = '—';
    });
    // Load a small sample for stats (default limit=200)
    fetch(API)
        .then(r => r.json())
    .then(rows => {
        const providers = new Set(rows.map(r => r.source).filter(Boolean));
    const locations = new Set(rows.map(r => r.location).filter(Boolean));
    document.getElementById('stat-providers').textContent = providers.size.toLocaleString();
    document.getElementById('stat-locations').textContent = locations.size.toLocaleString();
    })
    .catch(() => {
        document.getElementById('stat-providers').textContent = '—';
        document.getElementById('stat-locations').textContent = '—';
    });
</script>
</body>
</html>